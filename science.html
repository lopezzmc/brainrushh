<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Brain Rush â€” Science</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
<style>
:root{
  --paper-white: #fbfbf8;
  --neon1: #7b3af6;
  --neon2: #00e5ff;
  --good: #1fb97a;
  --bad: #ff4757;
  --coin-size: 20px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--paper-white);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#111;-webkit-font-smoothing:antialiased;}
.bg{
  position:fixed; inset:0; z-index:0;
  background-image: url('https://media.istockphoto.com/id/1469529416/vector/decorative-lined-paper-with-children-two-pages-funny-vector-illustration-eps.jpg?s=612x612&w=0&k=20&c=R9ntFhhrR3Hf8jlql_b-5ES_19Cxsjjx1HcbyScyf68=');
  background-size:cover; background-position:center; filter:brightness(.98) contrast(.98);
}
.overlay{ position:fixed; inset:0; z-index:1; pointer-events:none; background: linear-gradient(180deg, rgba(255,255,255,0.00), rgba(255,255,255,0.00)); }

.stage{ position:relative; z-index:2; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:36px; }
.book{ width:95vw; max-width:1400px; border-radius:10px; padding:18px; position:relative; background:none; box-shadow:none; border:none; }

.header{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:6px; }
.leftHeader{ display:flex; align-items:center; gap:14px; }
.logoBox{ width:84px; height:84px; border-radius:10px; background:#fff; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 28px rgba(0,0,0,0.08); overflow:hidden; border:1px solid rgba(0,0,0,0.04) }
.logoBox img{ width:82%; height:82%; object-fit:contain; display:block; }

.titleWrap{ display:flex; flex-direction:column; gap:4px }
.title{ font-family:"Patrick Hand", "Patrick Hand SC", Inter, system-ui, sans-serif; font-size:34px; margin:0; font-weight:900; color:#111; position:relative; }
.title::after{ content:""; position:absolute; left:0; right:0; bottom:-6px; height:6px; border-radius:6px; background: linear-gradient(90deg,var(--neon1),var(--neon2)); opacity:.18; animation: titlePulse 3.6s ease-in-out infinite; }
@keyframes titlePulse{ 0%{opacity:.14}50%{opacity:.3}100%{opacity:.14} }
.subtitle{ font-size:13px; color:#333; font-weight:700; opacity:.9; margin-top:2px; font-family:Inter; }

.coins{ display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:12px; background:#fff; box-shadow:0 6px 30px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.03); font-weight:900; }
.coins .coinEmoji{ font-size:20px; margin-right:6px }
.coins #headerCoins{ font-size:18px; color:#222 }

.card{ margin-top:12px; background:none; border-radius:12px; padding:28px; min-height:62vh; display:flex; flex-direction:column; gap:12px; align-items:stretch; transform-origin:center; }

.topbar{ display:flex; justify-content:space-between; align-items:center; gap:12px; }
.qcount{ font-weight:900; color:#222; padding:8px 12px; background:rgba(255,255,255,0.8); border-radius:10px; box-shadow:0 6px 20px rgba(0,0,0,0.04); border:1px solid rgba(0,0,0,0.02) }

.timerWrap{ display:flex; align-items:center; gap:10px; justify-content:center; margin-top:12px; }
.timerText{ font-weight:900; color:#111; min-width:56px; text-align:center; font-size:20px; }

svg.timer{ width:70px; height:70px }

.question{
  font-family:"Patrick Hand", "Patrick Hand SC", Inter, system-ui, sans-serif;
  font-size: 2.5rem; font-weight: 900; color: #000; text-align: center; margin: 20px 0; line-height: 1.4; padding: 20px 40px; position: relative; z-index: 10;
}
.question::before { content: ''; position: absolute; inset: -15px; background: rgba(255,255,255,0.92); border-radius: 16px; z-index: -1; }

.choices{ display:flex; flex-wrap:wrap; gap:12px; justify-content:center; margin: 20px auto; }
.choice { flex: 1 1 20%; min-width: 120px; height: 60px; border-radius: 999px; display:flex; align-items:center; justify-content:center; gap:12px; cursor:pointer; user-select:none; font-weight:900; font-size:1.2rem; font-family:"Patrick Hand", Inter, sans-serif; color:#fff; background: linear-gradient(-45deg, #1a9850, #2ecc71, #27ae60, #1a9850); background-size:400% 400%; border:6px solid #057d05; box-shadow:none; transition: all .3s ease; position:relative; overflow:visible; animation: gradientBG 8s ease infinite; }
.choice.correct { border-color:#00ff00; background: linear-gradient(-45deg, #1a9850, #2ecc71); box-shadow:0 0 16px #00ff00; }
.choice.wrong { border-color:#ff0000; background: linear-gradient(-45deg, #c62828, #ef5350); }

.feedback{ min-height:28px; font-weight:800; text-align:center; color:#333; }

.progressWrap{ margin-top:6px; display:flex; flex-direction:column; gap:8px; align-items:stretch; }
.progressBar{ height:10px; background: linear-gradient(90deg, rgba(0,0,0,0.02), rgba(0,0,0,0.01)); border-radius:999px; overflow:hidden; }
.progressFill{ height:100%; width:0%; background: linear-gradient(90deg, rgba(123,58,246,0.85), rgba(0,229,255,0.8)); transition: width .35s ease; }

.final{
  position:absolute; inset:0; z-index:12; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.96));
  border-radius:10px; padding:28px; box-shadow: 0 40px 120px rgba(0,0,0,0.08);
  text-align:center; display:none;
}
.final h2{ font-family:"Patrick Hand", Inter; font-size:2rem; margin:6px 0; color:#0b6b3a; }
.final .score{ font-weight:900; color:#222; font-size:1.15rem }
.final .btns{ display:flex; gap:12px; margin-top:8px }
.btn{ padding:10px 16px; border-radius:10px; border:none; cursor:pointer; font-weight:900; background:linear-gradient(90deg,#7b3af6,#00e5ff); color:#fff; box-shadow:0 12px 36px rgba(0,0,0,0.12) }

.confetti {
  position:fixed;
  width:10px;
  height:8px;
  top:-20px;
  pointer-events:none;
  z-index:40;
  opacity:0.95;
  border-radius:2px;
  transform:translateY(0) rotate(0deg);
  animation: confettiFall 2200ms linear forwards;
}
@keyframes confettiFall { to { transform: translateY(110vh) rotate(720deg); opacity: 0.95; } }

#timerCircle { transition: stroke-dashoffset 1s linear; }

@media(max-width:760px){
  .choice{ height:50px; font-size:16px; flex:1 1 45%; min-width:100px; }
  .title{ font-size:22px }
}
</style>
</head>
<body>
<div class="bg" aria-hidden="true"></div>
<div class="overlay" aria-hidden="true"></div>

<div class="stage">
  <div class="book" role="main" aria-label="Brain Rush science game">
    <div class="header">
      <div class="leftHeader">
        <div class="logoBox"><img src="logo.png" alt="logo" onerror="this.style.display='none'"></div>
        <div class="titleWrap">
          <div class="title">Brain Rush</div>
          <div class="subtitle">Level 1 â€¢ Science</div>
        </div>
        <div style="margin-left:14px;">
          <div class="qcount" id="qcount">Question 1 / 10</div>
        </div>
      </div>
      <div style="display:flex; align-items:center; gap:12px;">
        <div class="coins"><span class="coinEmoji">ðŸ’°</span> <span id="headerCoins">0</span></div>
      </div>
    </div>

    <div class="card" id="card">
      <div class="timerWrap">
        <svg class="timer" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="45" stroke="#ddd" stroke-width="10" fill="none"/>
          <circle id="timerCircle" cx="50" cy="50" r="45" stroke="#7b3af6" stroke-width="10" fill="none" stroke-dasharray="282.6" stroke-dashoffset="0" transform="rotate(-90 50 50)"/>
        </svg>
        <div class="timerText" id="timerText">15</div>
      </div>

      <div class="question" id="question">Loadingâ€¦</div>
      <div class="choices" id="choices" role="list" aria-live="polite"></div>
      <div class="feedback" id="feedback" aria-live="polite"></div>
      <div class="progressWrap">
        <div class="progressBar"><div class="progressFill" id="progressFill"></div></div>
      </div>

      <div id="final" class="final">
        <h2>ðŸŽ‰ Congratulations!</h2>
        <div class="score" id="finalScore">You answered 0 / 10 correctly</div>
        <div style="margin-top:8px;">
          <div class="score" id="coinSummary">You earned 0 ðŸª™ this round</div>
        </div>
        <div class="btns">
          <button class="btn" id="playAgain">Play Again</button>
          <button class="btn" id="goHome">Home</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="coinPop" id="coinPop"></div>

<audio id="clickS" preload="auto"><source src="click.mp3" type="audio/mpeg"></audio>
<audio id="coinS" preload="auto"><source src="coin.mp3" type="audio/mpeg"></audio>
<audio id="cheerS" preload="auto"><source src="cheer.mp3" type="audio/mpeg"></audio>
<audio id="bgMusic" loop><source src="background-music.mp3" type="audio/mpeg"></audio>

<script>
// ====== 60 QUESTIONS BANK ======
const BANK = [
  { q:"What is the chemical symbol for water?", choices:["H2O","CO2","O2","HO2"], a:0 },
  { q:"Which planet is known as the Red Planet?", choices:["Earth","Mars","Jupiter","Venus"], a:1 },
  { q:"What force keeps us on the ground?", choices:["Magnetism","Gravity","Friction","Centrifugal"], a:1 },
  { q:"What gas do plants produce during photosynthesis?", choices:["Oxygen","Nitrogen","Carbon Dioxide","Helium"], a:0 },
  { q:"What is the center of an atom called?", choices:["Electron","Proton","Nucleus","Neutron"], a:2 },
  { q:"Light travels fastest in which medium?", choices:["Air","Water","Vacuum","Glass"], a:2 },
  { q:"Which organ is responsible for pumping blood?", choices:["Brain","Heart","Lungs","Liver"], a:1 },
  { q:"Which planet has the most moons?", choices:["Jupiter","Saturn","Earth","Mars"], a:0 },
  { q:"Which element has the symbol 'Fe'?", choices:["Fluorine","Iron","Francium","Fermium"], a:1 },
  { q:"What is the boiling point of water in Celsius?", choices:["100Â°C","0Â°C","50Â°C","90Â°C"], a:0 },
  { q:"Which gas is most abundant in Earth's atmosphere?", choices:["Oxygen","Nitrogen","Carbon Dioxide","Hydrogen"], a:1 },
  { q:"What part of the plant absorbs water?", choices:["Leaf","Root","Stem","Flower"], a:1 },
  { q:"What is the largest organ in the human body?", choices:["Heart","Liver","Skin","Brain"], a:2 },
  { q:"Which planet is closest to the Sun?", choices:["Mercury","Venus","Earth","Mars"], a:0 },
  { q:"What is the main gas responsible for global warming?", choices:["Oxygen","Nitrogen","Carbon Dioxide","Methane"], a:2 },
  { q:"Which particle has a negative charge?", choices:["Proton","Electron","Neutron","Photon"], a:1 },
  { q:"What type of energy is stored in food?", choices:["Kinetic","Thermal","Chemical","Electrical"], a:2 },
  { q:"Which blood cells fight infections?", choices:["Red","White","Platelets","Plasma"], a:1 },
  { q:"Which planet is known for its rings?", choices:["Saturn","Mars","Venus","Neptune"], a:0 },
  { q:"What is the center of the Earth called?", choices:["Mantle","Core","Crust","Outer Layer"], a:1 },
  { q:"What is the smallest unit of life?", choices:["Cell","Atom","Molecule","Organ"], a:0 },
  { q:"Which vitamin is produced when skin is exposed to sunlight?", choices:["Vitamin A","Vitamin B","Vitamin C","Vitamin D"], a:3 },
  { q:"What force causes objects to fall?", choices:["Friction","Gravity","Magnetism","Electrostatic"], a:1 },
  { q:"Which organ helps in digestion?", choices:["Lungs","Stomach","Heart","Brain"], a:1 },
  { q:"Which is a non-renewable energy source?", choices:["Solar","Wind","Coal","Hydropower"], a:2 },
  { q:"What type of rock is formed from cooled lava?", choices:["Igneous","Sedimentary","Metamorphic","Quartz"], a:0 },
  { q:"Which organ is responsible for filtering blood?", choices:["Heart","Kidney","Liver","Lungs"], a:1 },
  { q:"Which planet is known as Earth's twin?", choices:["Venus","Mars","Mercury","Neptune"], a:0 },
  { q:"Which is the largest planet in the Solar System?", choices:["Earth","Saturn","Jupiter","Neptune"], a:2 },
  { q:"What is the process of water cycle from gas to liquid?", choices:["Evaporation","Condensation","Precipitation","Sublimation"], a:1 },
  { q:"Which blood type is the universal donor?", choices:["O+","O-","AB+","AB-"], a:1 },
  { q:"What is the powerhouse of the cell?", choices:["Nucleus","Mitochondria","Ribosome","Chloroplast"], a:1 },
  { q:"Which gas is used in balloons to float?", choices:["Oxygen","Hydrogen","Helium","Nitrogen"], a:2 },
  { q:"Which planet is the hottest in the Solar System?", choices:["Mercury","Venus","Earth","Mars"], a:1 },
  { q:"What is the main component of the Sun?", choices:["Hydrogen","Oxygen","Helium","Carbon"], a:0 },
  { q:"Which organ produces insulin?", choices:["Liver","Pancreas","Kidney","Spleen"], a:1 },
  { q:"Which gas do humans exhale?", choices:["Oxygen","Carbon Dioxide","Nitrogen","Helium"], a:1 },
  { q:"Which vitamin helps with blood clotting?", choices:["Vitamin C","Vitamin K","Vitamin D","Vitamin B12"], a:1 },
  { q:"What is the freezing point of water?", choices:["0Â°C","32Â°C","100Â°C","50Â°C"], a:0 },
  { q:"What is HCl in chemistry?", choices:["Hydrogen Chloride","Hydrogen Carbon","Hydro Chlorine","Helium Chloride"], a:0 },
  { q:"Which layer protects Earth from UV rays?", choices:["Stratosphere","Troposphere","Ozone Layer","Mesosphere"], a:2 },
  { q:"Which organ stores bile?", choices:["Liver","Gallbladder","Pancreas","Kidney"], a:1 },
  { q:"Which planet has a day longer than its year?", choices:["Venus","Earth","Mars","Mercury"], a:0 },
  { q:"Which particle has no charge?", choices:["Electron","Proton","Neutron","Photon"], a:2 },
  { q:"Which is a conductor of electricity?", choices:["Rubber","Copper","Glass","Plastic"], a:1 },
  { q:"Which organ is part of the respiratory system?", choices:["Lungs","Kidney","Heart","Liver"], a:0 },
  { q:"Which element is a noble gas?", choices:["Oxygen","Neon","Hydrogen","Carbon"], a:1 },
  { q:"What is the study of living organisms called?", choices:["Biology","Physics","Chemistry","Geology"], a:0 },
  { q:"Which planet has the shortest day?", choices:["Jupiter","Earth","Mars","Mercury"], a:0 },
  { q:"Which element is liquid at room temperature?", choices:["Mercury","Iron","Copper","Oxygen"], a:0 },
  { q:"Which blood cells help clot blood?", choices:["Red","White","Platelets","Plasma"], a:2 },
  { q:"What is the SI unit of force?", choices:["Joule","Newton","Pascal","Watt"], a:1 },
  { q:"Which gas do plants need for photosynthesis?", choices:["Oxygen","Nitrogen","Carbon Dioxide","Helium"], a:2 },
  { q:"Which planet is famous for its Great Red Spot?", choices:["Mars","Jupiter","Saturn","Neptune"], a:1 },
  { q:"What is the process by which plants make food?", choices:["Respiration","Photosynthesis","Digestion","Fermentation"], a:1 },
  { q:"Which organ removes waste from the blood?", choices:["Kidney","Liver","Heart","Lungs"], a:0 },
  { q:"Which type of energy comes from motion?", choices:["Kinetic","Potential","Chemical","Thermal"], a:0 },
  { q:"Which gas is necessary for humans to breathe?", choices:["Oxygen","Carbon Dioxide","Hydrogen","Nitrogen"], a:0 },
  { q:"Which is the largest organ inside the human body?", choices:["Liver","Heart","Lungs","Kidney"], a:0 },
  { q:"Which planet is known for its blue color?", choices:["Earth","Neptune","Mars","Venus"], a:1 },
  { q:"What is the main source of energy for Earth?", choices:["Moon","Sun","Stars","Volcanoes"], a:1 },
  { q:"Which type of rock is formed by pressure and heat?", choices:["Igneous","Metamorphic","Sedimentary","Basalt"], a:1 }
];


// ====== VARIABLES ======
let currentSet=[0], currentQ=0, score=0;
let totalCoins = Number(localStorage.getItem('totalCoins')) || 0;
let pointsPerQ = 10, usedIndexes=[];
let timeLeft = 15, timerInterval;

// ====== ELEMENTS ======
const questionEl=document.getElementById('question');
const choicesEl=document.getElementById('choices');
const progressFill=document.getElementById('progressFill');
const qcountEl=document.getElementById('qcount');
const finalEl=document.getElementById('final');
const finalScoreEl=document.getElementById('finalScore');
const coinSummaryEl=document.getElementById('coinSummary');
const headerCoinsEl=document.getElementById('headerCoins');

const playAgainBtn=document.getElementById('playAgain');
const goHomeBtn=document.getElementById('goHome');

const clickS=document.getElementById('clickS');
const coinS=document.getElementById('coinS');
const cheerS=document.getElementById('cheerS');
const bgMusic=document.getElementById('bgMusic');

// ====== INITIAL SETUP ======
headerCoinsEl.textContent = totalCoins;

function shuffleBank() {
  let indexes = [];
  while(indexes.length < 10){
    let rand = Math.floor(Math.random()*BANK.length);
    if(!usedIndexes.includes(rand)){
      indexes.push(rand);
      usedIndexes.push(rand);
      if(usedIndexes.length>=BANK.length) usedIndexes=[];
    }
  }
  currentSet = indexes.map(i=>BANK[i]);
}

function loadQuestion() {
  questionEl.textContent = currentSet[currentQ].q;
  choicesEl.innerHTML = '';
  currentSet[currentQ].choices.forEach((c,i)=>{
    let btn=document.createElement('div');
    btn.className='choice';
    btn.textContent=c;
    btn.addEventListener('click',()=>selectAnswer(i,btn));
    choicesEl.appendChild(btn);
  });
  qcountEl.textContent=`Question ${currentQ+1} / 10`;
  progressFill.style.width = `${(currentQ/10)*100}%`;
  startTimer();
}

function startTimer(){
  clearInterval(timerInterval);
  timeLeft=15;
  updateTimerVisual();
  timerInterval=setInterval(()=>{
    timeLeft--;
    updateTimerVisual();
    if(timeLeft<=0){
      clearInterval(timerInterval);
      nextQuestion();
    }
  },1000);
}

function updateTimerVisual(){
  document.getElementById('timerText').textContent=timeLeft;
  const dashOffset = 282.6 * (1 - timeLeft/15);
  document.getElementById('timerCircle').style.strokeDashoffset=dashOffset;
}

function selectAnswer(i,btn){
  if(bgMusic.paused) bgMusic.play();
  clickS.currentTime=0; clickS.play();
  clearInterval(timerInterval);

  const correct=currentSet[currentQ].a;
  if(i===correct){
    btn.classList.add('correct');
    score++;
    totalCoins+=pointsPerQ;
    localStorage.setItem('totalCoins', totalCoins);
    headerCoinsEl.textContent=totalCoins;
    coinS.currentTime=0; coinS.play();
    coinPop(pointsPerQ);
  } else {
    btn.classList.add('wrong');
    Array.from(choicesEl.children)[correct].classList.add('correct');
  }
  Array.from(choicesEl.children).forEach(ch=>ch.style.pointerEvents='none');
  setTimeout(()=>nextQuestion(),800);
}

function nextQuestion(){
  currentQ++;
  if(currentQ<10) loadQuestion();
  else finishQuiz();
}

function finishQuiz(){
  finalEl.style.display='flex';
  finalScoreEl.textContent=`You answered ${score} / 10 correctly`;
  coinSummaryEl.textContent=`You earned ${score*pointsPerQ} ðŸª™ this round`;
  cheerS.currentTime=0; cheerS.play();
  progressFill.style.width = '100%';
  confetti();
}

playAgainBtn.addEventListener('click',()=>{
  finalEl.style.display='none';
  score=0;
  shuffleBank();
  currentQ=0;
  loadQuestion();
});

goHomeBtn.addEventListener('click',()=>window.location.href="index.html");

function coinPop(amount){
  const pop=document.createElement('div');
  pop.textContent=`+${amount} ðŸª™`;
  pop.style.position='absolute';
  pop.style.top='30px';
  pop.style.right='30px';
  pop.style.fontWeight='900';
  pop.style.color='#fbc531';
  pop.style.zIndex='100';
  pop.style.opacity='1';
  pop.style.transition='all 1s ease-out';
  document.body.appendChild(pop);
  setTimeout(()=>{ pop.style.transform='translateY(-50px)'; pop.style.opacity='0'; },50);
  setTimeout(()=>pop.remove(),1000);
}

function confetti(){
  for(let i=0;i<120;i++){
    const c=document.createElement('div');
    c.className='confetti';
    c.style.backgroundColor=`hsl(${Math.random()*360},100%,50%)`;
    c.style.left=`${Math.random()*100}vw`;
    c.style.animationDuration=`${Math.random()*2+1.5}s`;
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2200);
  }
}

shuffleBank();
loadQuestion();

</script>
</body>
</html>
